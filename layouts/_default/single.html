{{ partial "header.html" . }}
<title>{{ .Title }} - Ed Duarte</title>
</head>

<body>

<div class="blob-container">
  <div class="blob blob-single-corner"></div>
</div>

<div>
  <div class="circle circle-article-1">
    <svg
        width="700"
        height="700"
        viewBox="0 0 700 700"
        xmlns="http://www.w3.org/2000/svg"
    >
      <defs>
        <linearGradient id="gradient-gray" x1="1" x2="0" y1="1" y2="0">
          <stop offset="0%" stop-color="#e5e9f0"></stop>
          <stop offset="100%" stop-color="#d8dee9"></stop>
        </linearGradient>
      </defs>
      <circle cx="350" cy="350" r="350" fill="url(#gradient-gray)"></circle>
    </svg>
  </div>
  <div class="circle circle-article-2">
    <svg
        width="700"
        height="700"
        viewBox="0 0 700 700"
        xmlns="http://www.w3.org/2000/svg"
    >
      <defs>
        <linearGradient id="gradient-colored" x1="1" x2="0" y1="1" y2="0">
          <stop offset="0%" stop-color="#ff0161"></stop>
          <stop offset="100%" stop-color="#fe3d3e"></stop>
        </linearGradient>
      </defs>
      <circle cx="350" cy="350" r="350" fill="url(#gradient-colored)"></circle>
    </svg>
  </div>
  <div class="circle circle-article-3">
    <svg
        width="700"
        height="700"
        viewBox="0 0 700 700"
        xmlns="http://www.w3.org/2000/svg"
    >
      <defs>
        <linearGradient id="gradient-white" x1="1" x2="0" y1="1" y2="0">
          <stop offset="0%" stop-color="#d5dbeb"></stop>
          <stop offset="100%" stop-color="#c4cdde"></stop>
        </linearGradient>
      </defs>
      <circle cx="350" cy="350" r="350" fill="url(#gradient-white)"></circle>
    </svg>
  </div>
</div>

<header class="logo">
  <span class="home-link"><a href="{{ .Site.BaseURL }}">Ed Duarte</a></span>
  <!--<span class="noselect">/</span><span class="section-link section-link-{{ .Section }}"><a href="/{{.Section}}">{{.Section}}</a></span>-->
</header>

<main class="main-container article-container">
  <article>
    <header>
      <div class="title">{{ .Title }}</div>
      {{ $subtitle := .Params.subtitle }}
      {{ if $subtitle }}
      <div class="subtitle">{{ $subtitle }}</div>
      {{ end }}

      {{ $authorList := .Params.authors }}
      {{ if $authorList }}
      <div class="header-meta">
        <p>
          {{ $len := (len $authorList) }}
          {{ if eq $len 1 }}
          {{ $author := index $authorList 0 }}
          <a href="{{ $author.url }}">{{ $author.name }}</a>
          {{ else }}
          {{ range $i, $temp := $authorList }}{{ if eq (add $i 1) $len }} and {{ else if eq $i 0 }}{{ else }}, {{ end }}{{ $author := index $authorList $i }}{{ if $author.url }}<a href='{{ $author.url }}'>{{ $author.name }}</a>{{ else }}{{ $author.name }}{{ end }}{{ end }}
          {{ end }}
        </p>
      </div>
      {{ end }}

    </header>

    <div class="article-table">

      <main class="card card-article">

        <section class="content">

          {{ if .Params.prologue }}
          <p class="prologue">{{ .Params.prologue | markdownify }}</p>
          {{ end }}

          {{ .Content }}
        </section>

      </main>

      <aside>

        {{ $tags := .Site.Taxonomies.tags }}
        {{ $tagList := .Params.tags }}
        {{ if $tagList }}
        <section>
          <ul class="links tags">
            {{ range .Params.tags }}
            {{ $tag := index $tags . }}
            <li><a href="{{ $tag.Page.Permalink }}" class="badge badge-{{ . }}">{{ . }}</a></li>
            {{ end }}
          </ul>
        </section>
        {{ end }}

        <section class="metadata">
          <ul class="table">

            {{ if .Params.date }}
            <li class="metadata-item">
              <div class="icon metadata-icon icon-published-date"></div>
              <span class="screen-reader">Published on </span>
              <time class="metadata-title" datetime="{{ .Date }}">
                {{ .Date.Format "Jan 2, 2006" }}
              </time>
            </li>
            {{ end }}

            <li class="metadata-item">
              <div class="icon metadata-icon icon-reading-time"></div>
              <span class="screen-reader">Reading time: </span>
              <span class="metadata-title">
                {{ .ReadingTime }} min read
              </span>
            </li>

            {{ with .Params.reddit }}
            <li class="metadata-item">
              <div class="icon metadata-icon icon-discussion"></div>
              <span class="screen-reader">Reddit: </span>
              <span class="metadata-title">
                Discussion on <a href="{{ . }}">Reddit</a>
              </span>
            </li>
            {{ end }}

            {{ with .Params.hn }}
            <li class="metadata-item">
              <div class="icon metadata-icon icon-discussion"></div>
              <span class="screen-reader">Hacker News: </span>
              <span class="metadata-title">
                Discussion on <a href="{{ . }}">Hacker News</a>
              </span>
            </li>
            {{ end }}

            {{ with .Params.medium }}
            <li class="metadata-item">
              <div class="icon metadata-icon icon-mirror"></div>
              <span class="screen-reader">Article mirror: </span>
              <span class="metadata-title">
                Also on <a href="{{ . }}">Medium</a>
              </span>
            </li>
            {{ end }}

          </ul>
        </section>

        {{ $linkList := .Params.links }}
        {{ if $linkList }}
        <section>
          <ul class="links metadata-links">
            {{ range $i, $temp := $linkList }}
            {{ $link := index $linkList $i }}
            {{ if $link.url }}
            <li>
              <a href="{{ $link.url }}">
                {{ with $link.icon }}
                <div class="icon metadata-icon icon-{{ $link.icon }}"></div>
                <span class="screen-reader">{{ $link.icon }}: </span>
                {{ end }}
                <span class="metadata-title">
                  {{ $link.name }}
                </span>
              </a>
            </li>
            {{ else }}
            <li>
              {{ $link.name }}
            </li>
            {{ end }}
            {{ end }}
          </ul>
        </section>
        {{ end }}

      </aside>

    </div>

  </article>

{{ $current := . }}
{{ $series := .Site.Taxonomies.series }}
{{ $seriesList := .Params.series }}
{{ if $seriesList }}

  {{ range $seriesList }}
    {{ $it := . }}
    {{ $s := index $series $it }}
    {{ $pages := $s.Pages.ByDate }}
    {{ range $i, $v := $pages }}
      {{ if eq $current.File $v.File }}
        <div class="line"></div>
        <h4 class="mlt-header">Part of <a href="{{ $s.Page.Permalink }}">{{ $s.Page.Title }}</a></h4>
        <div class="mlt-table">
          {{ if ne $i 0 }}
            {{ range first 1 (after (sub (len $pages) $i) $pages.Reverse) }}
            <div class="mlt mlt-previous">
              <h6 class="mlt-header">Previous</h6>
              {{ partial "list-item.html" . }}
            </div>
            {{ end }}
          {{ end }}
          {{ if ne (len $pages) (add $i 1) }}
            {{ range first 1 (after (add $i 1) $pages) }}
              <div class="mlt mlt-next">
                <h6 class="mlt-header">Next</h6>
                {{ partial "list-item.html" . }}
              </div>
            {{ end }}
          {{ end }}
        </div>
      {{ end }}
    {{ end }}
  {{ end }}

{{ end }}

</main>

{{ partial "footer.html" . }}
